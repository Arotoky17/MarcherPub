{"ast":null,"code":"var _jsxFileName = \"D:\\\\Memoire\\\\frontend\\\\src\\\\Pages\\\\Dashboard\\\\DashboardMinistere.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FaHome, FaUsers, FaFileAlt, FaSignOutAlt, FaChartPie, FaCheck, FaTimes } from 'react-icons/fa';\nimport { Line, Pie } from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport { useAuth } from '../../context/AuthContext';\nimport LoadingSpinner from '../../components/LoadingSpinner';\nimport ConfirmationModal from '../../components/ConfirmationModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nconst DashboardMinistere = () => {\n  _s();\n  var _dashboard$stats, _dashboard$stats2, _dashboard$stats3, _dashboard$stats4, _dashboard$stats5, _dashboard$stats6;\n  const [dashboard, setDashboard] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [modal, setModal] = useState({\n    show: false,\n    action: null,\n    data: null\n  });\n  const navigate = useNavigate();\n  const {\n    logout\n  } = useAuth();\n  const fetchDashboard = useCallback(async () => {\n    const token = localStorage.getItem('token');\n    if (!token) return navigate('/login');\n    try {\n      setLoading(true);\n      const response = await fetch('http://localhost:3000/api/dashboard/ministere', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 401) logout();\n        throw new Error('Erreur lors du chargement des données');\n      }\n      const data = await response.json();\n      setDashboard(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [navigate, logout]);\n  useEffect(() => {\n    fetchDashboard();\n  }, [fetchDashboard]);\n\n  // Fonction pour valider ou rejeter une offre\n  const handleUpdateStatus = async (offerId, newStatus) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:3000/api/ministere/offers/${offerId}/status`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      if (!response.ok) throw new Error('Erreur lors de la mise à jour du statut');\n      alert(`Offre ${newStatus === 'approved' ? 'approuvée' : 'rejetée'} avec succès`);\n      fetchDashboard();\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n    fullScreen: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-red-600\",\n    children: [\"Erreur : \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 21\n  }, this);\n  if (!dashboard) return null;\n\n  // Préparation des données pour graphiques (à adapter selon tes données)\n  const chartData = {\n    line: {\n      labels: Object.keys(dashboard.statsByMonth || {}).sort(),\n      datasets: [{\n        label: 'Appels d\\'offres créés',\n        data: Object.values(dashboard.statsByMonth || {}),\n        borderColor: '#6366F1',\n        backgroundColor: '#E0E7FF',\n        borderWidth: 2,\n        fill: true\n      }]\n    },\n    pie: {\n      labels: ['Entreprises', 'Ministères', 'Admins'],\n      datasets: [{\n        data: [((_dashboard$stats = dashboard.stats) === null || _dashboard$stats === void 0 ? void 0 : _dashboard$stats.entreprises) || 0, ((_dashboard$stats2 = dashboard.stats) === null || _dashboard$stats2 === void 0 ? void 0 : _dashboard$stats2.ministeres) || 0, ((_dashboard$stats3 = dashboard.stats) === null || _dashboard$stats3 === void 0 ? void 0 : _dashboard$stats3.admins) || 0],\n        backgroundColor: ['#3B82F6', '#10B981', '#8B5CF6']\n      }]\n    }\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom'\n      },\n      tooltip: {\n        enabled: true\n      }\n    },\n    animation: {\n      duration: 500\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      onNavigate: navigate,\n      onLogout: logout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 ml-64 p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-6 text-gray-800\",\n        children: \"Tableau de Bord Minist\\xE8re\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(StatCard, {\n          label: \"Appels d'Offres\",\n          value: ((_dashboard$stats4 = dashboard.stats) === null || _dashboard$stats4 === void 0 ? void 0 : _dashboard$stats4.offers) || 0,\n          icon: /*#__PURE__*/_jsxDEV(FaFileAlt, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 88\n          }, this),\n          color: \"indigo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          label: \"Candidatures\",\n          value: ((_dashboard$stats5 = dashboard.stats) === null || _dashboard$stats5 === void 0 ? void 0 : _dashboard$stats5.candidatures) || 0,\n          icon: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 91\n          }, this),\n          color: \"green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          label: \"Utilisateurs\",\n          value: ((_dashboard$stats6 = dashboard.stats) === null || _dashboard$stats6 === void 0 ? void 0 : _dashboard$stats6.users) || 0,\n          icon: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 84\n          }, this),\n          color: \"yellow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(ChartContainer, {\n          title: \"Statistiques par mois\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: chartData.line,\n            options: chartOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChartContainer, {\n          title: \"R\\xE9partition par r\\xF4le\",\n          children: /*#__PURE__*/_jsxDEV(Pie, {\n            data: chartData.pie,\n            options: chartOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-white rounded shadow mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold\",\n            children: \"Offres en attente de validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: dashboard.offers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"p-6 text-gray-500\",\n            children: \"Aucune offre en attente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\",\n                  children: \"Titre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y\",\n              children: dashboard.offers.map(offer => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: offer.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: new Date(offer.createdAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleUpdateStatus(offer.id, 'approved'),\n                    className: \"btn-success flex items-center gap-1\",\n                    title: \"Approuver\",\n                    children: [/*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 27\n                    }, this), \" Approuver\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleUpdateStatus(offer.id, 'rejected'),\n                    className: \"btn-danger flex items-center gap-1\",\n                    title: \"Rejeter\",\n                    children: [/*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 27\n                    }, this), \" Rejeter\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this)]\n              }, offer.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n// Sidebar simplifié sans création d'offre (car ministère ne crée pas les offres)\n_s(DashboardMinistere, \"nO/7wCXPUXq2a5hxbAqexpDa95o=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = DashboardMinistere;\nconst Sidebar = ({\n  onNavigate,\n  onLogout\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"w-64 bg-gray-800 text-white py-8 px-4 fixed h-full\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-2xl font-bold text-center mb-8\",\n    children: \"Minist\\xE8re\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"space-y-2\",\n    children: [/*#__PURE__*/_jsxDEV(SidebarButton, {\n      icon: /*#__PURE__*/_jsxDEV(FaHome, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 28\n      }, this),\n      label: \"Accueil\",\n      onClick: () => onNavigate('/')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidebarButton, {\n      icon: /*#__PURE__*/_jsxDEV(FaChartPie, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 28\n      }, this),\n      label: \"Statistiques\",\n      onClick: () => window.scrollTo(0, 0)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidebarButton, {\n      icon: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 28\n      }, this),\n      label: \"Utilisateurs\",\n      onClick: () => window.scrollTo(document.body.scrollHeight)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-4 mt-4 border-t border-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(SidebarButton, {\n        icon: /*#__PURE__*/_jsxDEV(FaSignOutAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }, this),\n        label: \"D\\xE9connexion\",\n        onClick: onLogout,\n        isLogout: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 193,\n  columnNumber: 3\n}, this);\n_c2 = Sidebar;\nconst SidebarButton = ({\n  icon,\n  label,\n  onClick,\n  isLogout = false\n}) => /*#__PURE__*/_jsxDEV(\"button\", {\n  onClick: onClick,\n  className: `flex items-center w-full px-4 py-3 rounded-md transition-colors ${isLogout ? 'text-red-400 hover:bg-red-900/10' : 'text-gray-300 hover:bg-gray-700 hover:text-white'}`,\n  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"mr-3\",\n    children: icon\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 212,\n  columnNumber: 3\n}, this);\n_c3 = SidebarButton;\nconst StatCard = ({\n  label,\n  value,\n  icon,\n  color\n}) => {\n  const colorClasses = {\n    indigo: 'bg-indigo-100 text-indigo-600',\n    green: 'bg-green-100 text-green-600',\n    yellow: 'bg-yellow-100 text-yellow-600',\n    red: 'bg-red-100 text-red-600'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${colorClasses[color]} p-6 rounded-lg shadow flex justify-between items-center transition-transform hover:scale-105`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-medium\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-2xl font-bold\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-3xl opacity-80\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n_c4 = StatCard;\nconst ChartContainer = ({\n  title,\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white p-6 rounded shadow\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-xl font-bold mb-4\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-80\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 245,\n  columnNumber: 3\n}, this);\n_c5 = ChartContainer;\nexport default DashboardMinistere;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"DashboardMinistere\");\n$RefreshReg$(_c2, \"Sidebar\");\n$RefreshReg$(_c3, \"SidebarButton\");\n$RefreshReg$(_c4, \"StatCard\");\n$RefreshReg$(_c5, \"ChartContainer\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","FaHome","FaUsers","FaFileAlt","FaSignOutAlt","FaChartPie","FaCheck","FaTimes","Line","Pie","Chart","registerables","useAuth","LoadingSpinner","ConfirmationModal","jsxDEV","_jsxDEV","register","DashboardMinistere","_s","_dashboard$stats","_dashboard$stats2","_dashboard$stats3","_dashboard$stats4","_dashboard$stats5","_dashboard$stats6","dashboard","setDashboard","loading","setLoading","error","setError","modal","setModal","show","action","data","navigate","logout","fetchDashboard","token","localStorage","getItem","response","fetch","headers","Authorization","ok","status","Error","json","err","message","handleUpdateStatus","offerId","newStatus","method","body","JSON","stringify","alert","fullScreen","fileName","_jsxFileName","lineNumber","columnNumber","className","children","chartData","line","labels","Object","keys","statsByMonth","sort","datasets","label","values","borderColor","backgroundColor","borderWidth","fill","pie","stats","entreprises","ministeres","admins","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","tooltip","enabled","animation","duration","Sidebar","onNavigate","onLogout","StatCard","value","offers","icon","color","candidatures","users","ChartContainer","title","options","length","map","offer","Date","createdAt","toLocaleDateString","onClick","id","_c","SidebarButton","window","scrollTo","document","scrollHeight","isLogout","_c2","_c3","colorClasses","indigo","green","yellow","red","_c4","_c5","$RefreshReg$"],"sources":["D:/Memoire/frontend/src/Pages/Dashboard/DashboardMinistere.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  FaHome, FaUsers, FaFileAlt, FaSignOutAlt, \r\n  FaChartPie, FaCheck, FaTimes\r\n} from 'react-icons/fa';\r\nimport { Line, Pie } from 'react-chartjs-2';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport LoadingSpinner from '../../components/LoadingSpinner';\r\nimport ConfirmationModal from '../../components/ConfirmationModal';\r\n\r\nChart.register(...registerables);\r\n\r\nconst DashboardMinistere = () => {\r\n  const [dashboard, setDashboard] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [modal, setModal] = useState({ show: false, action: null, data: null });\r\n  \r\n  const navigate = useNavigate();\r\n  const { logout } = useAuth();\r\n\r\n  const fetchDashboard = useCallback(async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return navigate('/login');\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch('http://localhost:3000/api/dashboard/ministere', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) logout();\r\n        throw new Error('Erreur lors du chargement des données');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setDashboard(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate, logout]);\r\n\r\n  useEffect(() => {\r\n    fetchDashboard();\r\n  }, [fetchDashboard]);\r\n\r\n  // Fonction pour valider ou rejeter une offre\r\n  const handleUpdateStatus = async (offerId, newStatus) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3000/api/ministere/offers/${offerId}/status`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ status: newStatus })\r\n      });\r\n      if (!response.ok) throw new Error('Erreur lors de la mise à jour du statut');\r\n      alert(`Offre ${newStatus === 'approved' ? 'approuvée' : 'rejetée'} avec succès`);\r\n      fetchDashboard();\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner fullScreen />;\r\n  if (error) return <div className=\"p-6 text-red-600\">Erreur : {error}</div>;\r\n  if (!dashboard) return null;\r\n\r\n  // Préparation des données pour graphiques (à adapter selon tes données)\r\n  const chartData = {\r\n    line: {\r\n      labels: Object.keys(dashboard.statsByMonth || {}).sort(),\r\n      datasets: [{\r\n        label: 'Appels d\\'offres créés',\r\n        data: Object.values(dashboard.statsByMonth || {}),\r\n        borderColor: '#6366F1',\r\n        backgroundColor: '#E0E7FF',\r\n        borderWidth: 2,\r\n        fill: true\r\n      }]\r\n    },\r\n    pie: {\r\n      labels: ['Entreprises', 'Ministères', 'Admins'],\r\n      datasets: [{\r\n        data: [\r\n          dashboard.stats?.entreprises || 0,\r\n          dashboard.stats?.ministeres || 0,\r\n          dashboard.stats?.admins || 0\r\n        ],\r\n        backgroundColor: ['#3B82F6', '#10B981', '#8B5CF6']\r\n      }]\r\n    }\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: { \r\n      legend: { position: 'bottom' },\r\n      tooltip: { enabled: true }\r\n    },\r\n    animation: { duration: 500 }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      {/* Sidebar */}\r\n      <Sidebar \r\n        onNavigate={navigate}\r\n        onLogout={logout}\r\n      />\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 ml-64 p-6\">\r\n        <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">Tableau de Bord Ministère</h1>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <StatCard label=\"Appels d'Offres\" value={dashboard.stats?.offers || 0} icon={<FaFileAlt />} color=\"indigo\" />\r\n          <StatCard label=\"Candidatures\" value={dashboard.stats?.candidatures || 0} icon={<FaUsers />} color=\"green\" />\r\n          <StatCard label=\"Utilisateurs\" value={dashboard.stats?.users || 0} icon={<FaUsers />} color=\"yellow\" />\r\n        </div>\r\n\r\n        {/* Charts Section */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n          <ChartContainer title=\"Statistiques par mois\">\r\n            <Line data={chartData.line} options={chartOptions} />\r\n          </ChartContainer>\r\n          <ChartContainer title=\"Répartition par rôle\">\r\n            <Pie data={chartData.pie} options={chartOptions} />\r\n          </ChartContainer>\r\n        </div>\r\n\r\n        {/* Offers à valider */}\r\n        <section className=\"bg-white rounded shadow mb-8\">\r\n          <div className=\"p-6 border-b\">\r\n            <h2 className=\"text-2xl font-bold\">Offres en attente de validation</h2>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            {dashboard.offers.length === 0 ? (\r\n              <p className=\"p-6 text-gray-500\">Aucune offre en attente</p>\r\n            ) : (\r\n              <table className=\"min-w-full divide-y\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\">Titre</th>\r\n                    <th className=\"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\">Date</th>\r\n                    <th className=\"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y\">\r\n                  {dashboard.offers.map((offer) => (\r\n                    <tr key={offer.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">{offer.title}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">{new Date(offer.createdAt).toLocaleDateString()}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap flex gap-2\">\r\n                        <button\r\n                          onClick={() => handleUpdateStatus(offer.id, 'approved')}\r\n                          className=\"btn-success flex items-center gap-1\"\r\n                          title=\"Approuver\"\r\n                        >\r\n                          <FaCheck /> Approuver\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleUpdateStatus(offer.id, 'rejected')}\r\n                          className=\"btn-danger flex items-center gap-1\"\r\n                          title=\"Rejeter\"\r\n                        >\r\n                          <FaTimes /> Rejeter\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Sidebar simplifié sans création d'offre (car ministère ne crée pas les offres)\r\nconst Sidebar = ({ onNavigate, onLogout }) => (\r\n  <div className=\"w-64 bg-gray-800 text-white py-8 px-4 fixed h-full\">\r\n    <h2 className=\"text-2xl font-bold text-center mb-8\">Ministère</h2>\r\n    <nav className=\"space-y-2\">\r\n      <SidebarButton icon={<FaHome />} label=\"Accueil\" onClick={() => onNavigate('/')} />\r\n      <SidebarButton icon={<FaChartPie />} label=\"Statistiques\" onClick={() => window.scrollTo(0, 0)} />\r\n      <SidebarButton icon={<FaUsers />} label=\"Utilisateurs\" onClick={() => window.scrollTo(document.body.scrollHeight)} />\r\n      <div className=\"pt-4 mt-4 border-t border-gray-700\">\r\n        <SidebarButton \r\n          icon={<FaSignOutAlt />} \r\n          label=\"Déconnexion\" \r\n          onClick={onLogout} \r\n          isLogout \r\n        />\r\n      </div>\r\n    </nav>\r\n  </div>\r\n);\r\n\r\nconst SidebarButton = ({ icon, label, onClick, isLogout = false }) => (\r\n  <button\r\n    onClick={onClick}\r\n    className={`flex items-center w-full px-4 py-3 rounded-md transition-colors ${\r\n      isLogout \r\n        ? 'text-red-400 hover:bg-red-900/10' \r\n        : 'text-gray-300 hover:bg-gray-700 hover:text-white'\r\n    }`}\r\n  >\r\n    <span className=\"mr-3\">{icon}</span>\r\n    <span>{label}</span>\r\n  </button>\r\n);\r\n\r\nconst StatCard = ({ label, value, icon, color }) => {\r\n  const colorClasses = {\r\n    indigo: 'bg-indigo-100 text-indigo-600',\r\n    green: 'bg-green-100 text-green-600',\r\n    yellow: 'bg-yellow-100 text-yellow-600',\r\n    red: 'bg-red-100 text-red-600'\r\n  };\r\n\r\n  return (\r\n    <div className={`${colorClasses[color]} p-6 rounded-lg shadow flex justify-between items-center transition-transform hover:scale-105`}>\r\n      <div>\r\n        <p className=\"text-sm font-medium\">{label}</p>\r\n        <p className=\"text-2xl font-bold\">{value}</p>\r\n      </div>\r\n      <div className=\"text-3xl opacity-80\">{icon}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ChartContainer = ({ title, children }) => (\r\n  <div className=\"bg-white p-6 rounded shadow\">\r\n    <h2 className=\"text-xl font-bold mb-4\">{title}</h2>\r\n    <div className=\"h-80\">{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default DashboardMinistere;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}