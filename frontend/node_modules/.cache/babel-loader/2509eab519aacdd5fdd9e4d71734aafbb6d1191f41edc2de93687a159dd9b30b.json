{"ast":null,"code":"import _objectSpread from\"D:/Memoire/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({username:'',password:'',email:'',companyName:''});const[error,setError]=useState('');const[success,setSuccess]=useState('');const[isLoading,setIsLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));};const handleRegister=async e=>{e.preventDefault();setError('');setSuccess('');setIsLoading(true);try{const res=await fetch('http://localhost:3000/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();if(!res.ok){throw new Error(data.error||'Inscription échouée');}setSuccess('✅ Inscription réussie ! Redirection en cours...');setTimeout(()=>navigate('/'),2000);}catch(err){setError(err.message||'Erreur de connexion au serveur');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-white p-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"bg-white p-6 rounded-xl shadow-2xl w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-semibold mb-6 text-center text-sky-600\",children:\"Cr\\xE9er un compte entreprise\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-sm\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 text-sm\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 text-gray-700\",children:\"Nom d'utilisateur\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",onChange:handleChange,required:true,placeholder:\"Ex: entrepriseX\",className:\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",onChange:handleChange,required:true,placeholder:\"exemple@mail.com\",className:\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 text-gray-700\",children:\"Nom de l'entreprise\"}),/*#__PURE__*/_jsx(\"input\",{name:\"companyName\",onChange:handleChange,placeholder:\"Entreprise S.A.\",className:\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 text-gray-700\",children:\"Mot de passe\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",onChange:handleChange,required:true,placeholder:\"******\",className:\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full bg-sky-600 hover:bg-sky-700 text-white font-medium py-2 px-4 rounded transition duration-300 flex items-center justify-center \".concat(isLoading?'opacity-75 cursor-not-allowed':''),children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Inscription...\"]}):\"S'inscrire\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4 text-sm\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"D\\xE9j\\xE0 un compte ?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"text-sky-600 hover:text-sky-800 underline transition duration-200\",children:\"Se connecter\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","formData","setFormData","username","password","email","companyName","error","setError","success","setSuccess","isLoading","setIsLoading","navigate","handleChange","e","prev","_objectSpread","target","name","value","handleRegister","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","setTimeout","err","message","className","children","onSubmit","onChange","required","placeholder","type","disabled","concat","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","href"],"sources":["D:/Memoire/frontend/src/Pages/Auth/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    companyName: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3000/api/auth/register', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        throw new Error(data.error || 'Inscription échouée');\r\n      }\r\n\r\n      setSuccess('✅ Inscription réussie ! Redirection en cours...');\r\n      setTimeout(() => navigate('/'), 2000);\r\n      \r\n    } catch (err) {\r\n      setError(err.message || 'Erreur de connexion au serveur');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-white p-4\">\r\n      <form\r\n        onSubmit={handleRegister}\r\n        className=\"bg-white p-6 rounded-xl shadow-2xl w-full max-w-md\"\r\n      >\r\n        <h2 className=\"text-3xl font-semibold mb-6 text-center text-sky-600\">\r\n          Créer un compte entreprise\r\n        </h2>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 text-sm\">\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-1 text-gray-700\">Nom d'utilisateur</label>\r\n          <input\r\n            name=\"username\"\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"Ex: entrepriseX\"\r\n            className=\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-1 text-gray-700\">Email</label>\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"exemple@mail.com\"\r\n            className=\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-1 text-gray-700\">Nom de l'entreprise</label>\r\n          <input\r\n            name=\"companyName\"\r\n            onChange={handleChange}\r\n            placeholder=\"Entreprise S.A.\"\r\n            className=\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-sm font-medium mb-1 text-gray-700\">Mot de passe</label>\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"******\"\r\n            className=\"w-full p-2 rounded bg-gray-50 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-sky-400 text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className={`w-full bg-sky-600 hover:bg-sky-700 text-white font-medium py-2 px-4 rounded transition duration-300 flex items-center justify-center ${isLoading ? 'opacity-75 cursor-not-allowed' : ''}`}\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              Inscription...\r\n            </>\r\n          ) : \"S'inscrire\"}\r\n        </button>\r\n\r\n        <div className=\"text-center mt-4 text-sm\">\r\n          <p className=\"text-gray-600\">\r\n            Déjà un compte ?{' '}\r\n            <a \r\n              href=\"/login\" \r\n              className=\"text-sky-600 hover:text-sky-800 underline transition duration-200\"\r\n            >\r\n              Se connecter\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}