{"ast":null,"code":"// CreerOffre.jsx - Page pour créer une nouvelle offre\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreerOffre=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[deadline,setDeadline]=useState('');const[message,setMessage]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token)return alert(\"Non autorisé\");try{const res=await fetch('http://localhost:3000/api/admin/offres',{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({title,description,deadline})});const data=await res.json();if(res.ok){setMessage('Offre créée avec succès. En attente de validation.');setTimeout(()=>navigate('/admin/dashboard'),2000);}else{setMessage(data.error||'Erreur lors de la création');}}catch(err){setMessage('Erreur réseau');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-8 max-w-lg w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-gray-800 text-center\",children:\"Cr\\xE9er une Nouvelle Offre\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Titre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),required:true,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),required:true,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\",rows:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Date limite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:deadline,onChange:e=>setDeadline(e.target.value),required:true,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700\",children:\"Cr\\xE9er l'Offre\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-green-600 mt-4\",children:message})]})]})});};export default CreerOffre;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","CreerOffre","title","setTitle","description","setDescription","deadline","setDeadline","message","setMessage","navigate","handleSubmit","e","preventDefault","token","localStorage","getItem","alert","res","fetch","method","headers","Authorization","concat","body","JSON","stringify","data","json","ok","setTimeout","error","err","className","children","onSubmit","type","value","onChange","target","required","rows"],"sources":["D:/Memoire/frontend/src/Pages/Offre/CreerOffre.jsx"],"sourcesContent":["// CreerOffre.jsx - Page pour créer une nouvelle offre\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst CreerOffre = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [deadline, setDeadline] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return alert(\"Non autorisé\");\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3000/api/admin/offres', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ title, description, deadline })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setMessage('Offre créée avec succès. En attente de validation.');\r\n        setTimeout(() => navigate('/admin/dashboard'), 2000);\r\n      } else {\r\n        setMessage(data.error || 'Erreur lors de la création');\r\n      }\r\n    } catch (err) {\r\n      setMessage('Erreur réseau');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n      <div className=\"bg-white shadow-md rounded-lg p-8 max-w-lg w-full\">\r\n        <h2 className=\"text-2xl font-bold mb-6 text-gray-800 text-center\">Créer une Nouvelle Offre</h2>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Titre</label>\r\n            <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n            <textarea value={description} onChange={(e) => setDescription(e.target.value)} required className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\" rows=\"4\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Date limite</label>\r\n            <input type=\"date\" value={deadline} onChange={(e) => setDeadline(e.target.value)} required className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\" />\r\n          </div>\r\n          <button type=\"submit\" className=\"w-full bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700\">Créer l'Offre</button>\r\n          {message && <p className=\"text-center text-sm text-green-600 mt-4\">{message}</p>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreerOffre;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}