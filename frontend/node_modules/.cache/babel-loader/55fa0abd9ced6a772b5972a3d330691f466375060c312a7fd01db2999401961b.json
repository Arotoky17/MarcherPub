{"ast":null,"code":"import _objectSpread from\"D:/Memoire/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/Pages/Register.jsx\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({username:'',password:'',email:'',companyName:''});const[error,setError]=useState('');const[success,setSuccess]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));};const handleRegister=async e=>{e.preventDefault();setError('');setSuccess('');const res=await fetch('http://localhost:3000/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();if(!res.ok){setError(data.error||'Inscription échouée');}else{setSuccess('Inscription réussie. Redirection...');setTimeout(()=>navigate('/'),2000);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center text-blue-700\",children:\"Inscription\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-2\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 mb-2\",children:success}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",onChange:handleChange,required:true,placeholder:\"Nom d'utilisateur\",className:\"w-full p-2 mb-3 border rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",onChange:handleChange,required:true,placeholder:\"Email\",className:\"w-full p-2 mb-3 border rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"companyName\",onChange:handleChange,placeholder:\"Nom de l'entreprise\",className:\"w-full p-2 mb-3 border rounded\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",onChange:handleChange,required:true,placeholder:\"Mot de passe\",className:\"w-full p-2 mb-5 border rounded\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white py-2 rounded\",children:\"S'inscrire\"})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","username","password","email","companyName","error","setError","success","setSuccess","navigate","handleChange","e","prev","_objectSpread","target","name","value","handleRegister","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","setTimeout","className","children","onSubmit","onChange","required","placeholder","type"],"sources":["D:/Memoire/frontend/src/Pages/Register.jsx"],"sourcesContent":["// src/Pages/Register.jsx\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n    companyName: '',\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    const res = await fetch('http://localhost:3000/api/auth/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(formData)\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      setError(data.error || 'Inscription échouée');\r\n    } else {\r\n      setSuccess('Inscription réussie. Redirection...');\r\n      setTimeout(() => navigate('/'), 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n      <form\r\n        onSubmit={handleRegister}\r\n        className=\"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md\"\r\n      >\r\n        <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-700\">Inscription</h2>\r\n\r\n        {error && <p className=\"text-red-600 mb-2\">{error}</p>}\r\n        {success && <p className=\"text-green-600 mb-2\">{success}</p>}\r\n\r\n        <input name=\"username\" onChange={handleChange} required placeholder=\"Nom d'utilisateur\"\r\n          className=\"w-full p-2 mb-3 border rounded\" />\r\n        <input name=\"email\" type=\"email\" onChange={handleChange} required placeholder=\"Email\"\r\n          className=\"w-full p-2 mb-3 border rounded\" />\r\n        <input name=\"companyName\" onChange={handleChange} placeholder=\"Nom de l'entreprise\"\r\n          className=\"w-full p-2 mb-3 border rounded\" />\r\n        <input name=\"password\" type=\"password\" onChange={handleChange} required placeholder=\"Mot de passe\"\r\n          className=\"w-full p-2 mb-5 border rounded\" />\r\n\r\n        <button type=\"submit\" className=\"w-full bg-blue-600 text-white py-2 rounded\">S'inscrire</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}